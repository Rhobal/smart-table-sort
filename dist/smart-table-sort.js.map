{"version":3,"file":"smart-table-sort.js","sources":["../node_modules/smart-table-operators/dist/index.mjs","../node_modules/smart-table-json-pointer/dist/index.mjs","../index.js"],"sourcesContent":["const swap = f => (a, b) => f(b, a);\n\nconst compose = (first, ...fns) => (...args) => fns.reduce((previous, current) => current(previous), first(...args));\n\nconst curry = (fn, arityLeft) => {\n\tconst arity = arityLeft || fn.length;\n\treturn (...args) => {\n\t\tconst argLength = args.length || 1;\n\t\tif (arity === argLength) {\n\t\t\treturn fn(...args);\n\t\t}\n\t\tconst func = (...moreArgs) => fn(...args, ...moreArgs);\n\t\treturn curry(func, arity - args.length);\n\t};\n};\n\nconst apply = fn => (...args) => fn(...args);\n\nconst tap = fn => arg => {\n\tfn(arg);\n\treturn arg;\n};\n\nexport { swap, compose, curry, apply, tap };\n","function pointer(path) {\n\n\tconst parts = path.split('.');\n\n\tfunction partial(obj = {}, parts = []) {\n\t\tconst p = parts.shift();\n\t\tconst current = obj[p];\n\t\treturn (current === undefined || parts.length === 0) ?\n\t\t\tcurrent : partial(current, parts);\n\t}\n\n\tfunction set(target, newTree) {\n\t\tlet current = target;\n\t\tconst [leaf, ...intermediate] = parts.reverse();\n\t\tfor (const key of intermediate.reverse()) {\n\t\t\tif (current[key] === undefined) {\n\t\t\t\tcurrent[key] = {};\n\t\t\t\tcurrent = current[key];\n\t\t\t}\n\t\t}\n\t\tcurrent[leaf] = Object.assign(current[leaf] || {}, newTree);\n\t\treturn target;\n\t}\n\n\treturn {\n\t\tget(target) {\n\t\t\treturn partial(target, [...parts])\n\t\t},\n\t\tset\n\t}\n}\n\nexport default pointer;\n","import {swap} from 'smart-table-operators';\nimport pointer from 'smart-table-json-pointer';\n\nfunction sortByProperty(prop) {\n\tconst propGetter = pointer(prop).get;\n\treturn (a, b) => {\n\t\tconst aVal = propGetter(a);\n\t\tconst bVal = propGetter(b);\n\n\t\tif (aVal === bVal) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (bVal === undefined) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (aVal === undefined) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn aVal < bVal ? -1 : 1;\n\t};\n}\n\nexport default function sortFactory({pointer, direction} = {}) {\n\tif (!pointer || direction === 'none') {\n\t\treturn array => [...array];\n\t}\n\n\tconst orderFunc = sortByProperty(pointer);\n\tconst compareFunc = direction === 'desc' ? swap(orderFunc) : orderFunc;\n\n\treturn array => [...array].sort(compareFunc);\n}\n"],"names":["pointer"],"mappings":";;;AAAA,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;ACAnC,SAAS,OAAO,CAAC,IAAI,EAAE;;CAEtB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;CAE9B,SAAS,OAAO,CAAC,GAAG,GAAG,EAAE,EAAE,KAAK,GAAG,EAAE,EAAE;EACtC,MAAM,CAAC,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;EACxB,MAAM,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;EACvB,OAAO,CAAC,OAAO,KAAK,SAAS,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC;GAClD,OAAO,GAAG,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;EACnC;;CAED,SAAS,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE;EAC7B,IAAI,OAAO,GAAG,MAAM,CAAC;EACrB,MAAM,CAAC,IAAI,EAAE,GAAG,YAAY,CAAC,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;EAChD,KAAK,MAAM,GAAG,IAAI,YAAY,CAAC,OAAO,EAAE,EAAE;GACzC,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;IAC/B,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAClB,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;IACvB;GACD;EACD,OAAO,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC;EAC5D,OAAO,MAAM,CAAC;EACd;;CAED,OAAO;EACN,GAAG,CAAC,MAAM,EAAE;GACX,OAAO,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;GAClC;EACD,GAAG;EACH;CACD;;AC3BD,SAAS,cAAc,CAAC,IAAI,EAAE;CAC7B,MAAM,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;CACrC,OAAO,CAAC,CAAC,EAAE,CAAC,KAAK;EAChB,MAAM,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EAC3B,MAAM,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;;EAE3B,IAAI,IAAI,KAAK,IAAI,EAAE;GAClB,OAAO,CAAC,CAAC;GACT;;EAED,IAAI,IAAI,KAAK,SAAS,EAAE;GACvB,OAAO,CAAC,CAAC,CAAC;GACV;;EAED,IAAI,IAAI,KAAK,SAAS,EAAE;GACvB,OAAO,CAAC,CAAC;GACT;;EAED,OAAO,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EAC5B,CAAC;CACF;;AAED,AAAe,SAAS,WAAW,CAAC,UAACA,UAAO,EAAE,SAAS,CAAC,GAAG,EAAE,EAAE;CAC9D,IAAI,CAACA,UAAO,IAAI,SAAS,KAAK,MAAM,EAAE;EACrC,OAAO,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3B;;CAED,MAAM,SAAS,GAAG,cAAc,CAACA,UAAO,CAAC,CAAC;CAC1C,MAAM,WAAW,GAAG,SAAS,KAAK,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC;;CAEvE,OAAO,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;CAC7C;;;;;;;;"}